<section class="content-header">
    <h1>Tarefas <small>TodoList</small></h1>
    <ol class="breadcrumb">
        <li><a href="#/">Painel</a></li>
        <li class="active">Tarefas</li>
    </ol>
</section>

<section class="content">
    <div class="row">
        <div class="col-md-8">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Titulo</th>
                        <th>Descrição</th>
                        <th>Categoria</th>
                        <th>Usuário</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="tarefa in vm.tarefas">
                        <td><a href="javascript:void(0)" ng-click="SelecionarTarefa(tarefa.id)">{{ tarefa.titulo }}</a></td>
                        <td class="col-md-1 text-center">{{ tarefa.descricao }}</td>
                        <td class="col-md-1 text-center">{{ tarefa.categoria.descricao }}</td>
                        <td class="col-md-1 text-center">{{ tarefa.usuario.nome }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-4">
            <div class="box box-primary">
                <form name="editorusuarioForm" ng-submit="SalvarTarefa()">
                    <div class="box-body">
                        <div class="form-group">
                            <label>Cód.</label><br />
                            <span>{{ vm.usuario.id }}</span>
                        </div>
                        <div class="form-group">
                            <label>Titulo</label>
                            <input type="text" class="form-control" name="titulo" ng-model="vm.tarefa.titulo" placeholder="Titulo da Tarefa">
                        </div>
                        <div class="form-group">
                            <label>Descrição</label>
                            <textarea class="form-control" name="descricao" ng-model="vm.tarefa.descricao" placeholder="Descrição da Tarefa"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Categoria</label>
                            <select class="form-control" name="categoriaId" ng-model="vm.tarefa.categoriaId" ng-options="cat.id as cat.descricao for cat in vm.categorias">
                                <option></option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Usuário</label>
                            <select class="form-control" name="usuarioId" ng-model="vm.tarefa.usuarioId" ng-options="us.id as us.nome for us in vm.usuarios">
                                <option></option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Prioridade</label>
                            <input type="number" min="0" max="20"  class="form-control" name="titulo" ng-model="vm.tarefa.prioridade" placeholder="Priordade da Tarefa">
                        </div>
                        <div class="form-group">
                            <input type="submit" class="btn btn-primary" value="Salvar">
                            <div class="btn-group pull-right">
                                <a href="javascript:void(0)" class="btn" ng-click="NovoTarefa()"><i class="fa fa-plus-square"></i> Novo</a>
                                <a href="javascript:void(0)" class="btn" ng-click="ApagarTarefa()"><i class="fa fa-minus-square"></i> Exlcuir</a>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>